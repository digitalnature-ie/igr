<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert a data frame containing Irish grid references into an sf object — st_igr_as_sf • igr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert a data frame containing Irish grid references into an sf object — st_igr_as_sf"><meta name="description" content="st_igr_as_sf() converts a data frame containing Irish grid references into
an sf object containing point or polygon features. If points, the south west
corners of the grid references are returned. If polygons, squares spanning
the full extent of each grid reference are returned, with each square's size
depending on the precision of each grid reference. The Irish Grid
(EPSG:29903) X and Y coordinates and grid reference precision in metres can
also be returned."><meta property="og:description" content="st_igr_as_sf() converts a data frame containing Irish grid references into
an sf object containing point or polygon features. If points, the south west
corners of the grid references are returned. If polygons, squares spanning
the full extent of each grid reference are returned, with each square's size
depending on the precision of each grid reference. The Irish Grid
(EPSG:29903) X and Y coordinates and grid reference precision in metres can
also be returned."><meta property="og:image" content="https://digitalnature-ie.github.io/igr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">igr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/igr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://digitalnature.ie/2024/07/igr-an-r-package-supporting-irish-grid-references/">igr 0.1.1</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/digitalnature-ie/igr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert a data frame containing Irish grid references into an sf object</h1>
      <small class="dont-index">Source: <a href="https://github.com/digitalnature-ie/igr/blob/main/R/st_igr_as_sf.R" class="external-link"><code>R/st_igr_as_sf.R</code></a></small>
      <div class="d-none name"><code>st_igr_as_sf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>st_igr_as_sf()</code> converts a data frame containing Irish grid references into
an sf object containing point or polygon features. If points, the south west
corners of the grid references are returned. If polygons, squares spanning
the full extent of each grid reference are returned, with each square's size
depending on the precision of each grid reference. The Irish Grid
(EPSG:29903) X and Y coordinates and grid reference precision in metres can
also be returned.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">st_igr_as_sf</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  igrefs <span class="op">=</span> <span class="st">"igr"</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">29903</span>,</span>
<span>  remove <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_coords <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span>,</span>
<span>  centroids <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  precision <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  polygons <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tetrad <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A data.frame containing a column of valid Irish grid references. It
must not have column names specified in <code>coords</code>.</p></dd>


<dt id="arg-igrefs">igrefs<a class="anchor" aria-label="anchor" href="#arg-igrefs"></a></dt>
<dd><p>The name or index of the character column holding Irish grid
references.</p></dd>


<dt id="arg-crs">crs<a class="anchor" aria-label="anchor" href="#arg-crs"></a></dt>
<dd><p>A valid EPSG value (numeric), a string accepted by GDAL, or an
object of class crs containing the coordinate reference system to be
assigned. See <code><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">sf::st_crs()</a></code>.</p></dd>


<dt id="arg-remove">remove<a class="anchor" aria-label="anchor" href="#arg-remove"></a></dt>
<dd><p>Should the column containing the Irish grid references be
removed from the result?</p></dd>


<dt id="arg-add-coords">add_coords<a class="anchor" aria-label="anchor" href="#arg-add-coords"></a></dt>
<dd><p>Should the Irish Grid coordinates with column names
specified by <code>coords</code> be included in the result?</p></dd>


<dt id="arg-coords">coords<a class="anchor" aria-label="anchor" href="#arg-coords"></a></dt>
<dd><p>A character vector of the names of the columns to contain the
Irish Grid X and Y coordinates respectively.</p></dd>


<dt id="arg-centroids">centroids<a class="anchor" aria-label="anchor" href="#arg-centroids"></a></dt>
<dd><p>Should the coordinates of the centroids of the Irish grid
references be returned (rather than the south west corners)?</p></dd>


<dt id="arg-precision">precision<a class="anchor" aria-label="anchor" href="#arg-precision"></a></dt>
<dd><p>The name of the column to contain the precision of each
Irish grid reference in metres, if required.</p></dd>


<dt id="arg-polygons">polygons<a class="anchor" aria-label="anchor" href="#arg-polygons"></a></dt>
<dd><p>If <code>FALSE</code> (the default) the result will contain point
features located at the south-west corner of each Irish grid reference. If
<code>TRUE</code> the result will contain polygon features spanning the extent of each
Irish grid reference.</p></dd>


<dt id="arg-tetrad">tetrad<a class="anchor" aria-label="anchor" href="#arg-tetrad"></a></dt>
<dd><p>Permit tetrad form of Irish grid reference?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An sf object containing point or polygon features for each Irish grid
reference in x.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># A data.frame containing two Irish grid references</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>igr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A00"</span>, <span class="st">"N8000"</span>, <span class="st">"D12T"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert a data.frame of Irish grid references to an sf object in the</span></span></span>
<span class="r-in"><span><span class="co"># Irish Grid coordinate reference system</span></span></span>
<span class="r-in"><span><span class="fu">st_igr_as_sf</span><span class="op">(</span><span class="va">x</span>, <span class="st">"igr"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 3 features and 1 field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 0 ymin: 2e+05 xmax: 316000 ymax: 426000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Projected CRS: TM75 / Irish Grid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     igr              geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   A00       POINT (0 4e+05)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 N8000  POINT (280000 2e+05)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  D12T POINT (316000 426000)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert to an sf object in the WGS 84 coordinate reference system</span></span></span>
<span class="r-in"><span><span class="fu">st_igr_as_sf</span><span class="op">(</span><span class="va">x</span>, <span class="st">"igr"</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 3 features and 1 field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -11.1116 ymin: 53.04498 xmax: -6.184984 ymax: 55.06779</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     igr                   geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   A00  POINT (-11.1116 54.80789)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 N8000 POINT (-6.807924 53.04498)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  D12T POINT (-6.184984 55.06779)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Include the Irish Grid coordinates and precision in the sf object</span></span></span>
<span class="r-in"><span><span class="fu">st_igr_as_sf</span><span class="op">(</span><span class="va">x</span>, <span class="st">"igr"</span>, add_coords <span class="op">=</span> <span class="cn">TRUE</span>, precision <span class="op">=</span> <span class="st">"prec"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 3 features and 4 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 0 ymin: 2e+05 xmax: 316000 ymax: 426000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Projected CRS: TM75 / Irish Grid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     igr      x      y  prec              geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   A00      0 400000 10000       POINT (0 4e+05)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 N8000 280000 200000  1000  POINT (280000 2e+05)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  D12T 316000 426000  2000 POINT (316000 426000)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert into polygon features rather than point features</span></span></span>
<span class="r-in"><span><span class="fu">st_igr_as_sf</span><span class="op">(</span><span class="va">x</span>, <span class="st">"igr"</span>, polygons <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 3 features and 1 field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 0 ymin: 2e+05 xmax: 318000 ymax: 428000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Projected CRS: TM75 / Irish Grid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     igr                       geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   A00 POLYGON ((10000 410000, 100...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 N8000 POLYGON ((281000 201000, 28...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  D12T POLYGON ((318000 428000, 31...</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Kennedy, <a href="https://digitalnature.ie" class="external-link"><img src="https://digitalnature.ie/wp-content/uploads/2024/07/dn_narrow_CO.png" width="80" alt=""></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

